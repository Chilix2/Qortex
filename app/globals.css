@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  --background: oklch(0.95 0.02 220);
  --foreground: oklch(0.2 0.02 250);
  --card: oklch(0.98 0.01 220);
  --card-foreground: oklch(0.2 0.02 250);
  --popover: oklch(0.98 0.01 220);
  --popover-foreground: oklch(0.2 0.02 250);
  --primary: oklch(0.6 0.18 240);
  --primary-foreground: oklch(0.98 0 0);
  --secondary: oklch(0.9 0.03 220);
  --secondary-foreground: oklch(0.3 0.02 250);
  --muted: oklch(0.92 0.02 220);
  --muted-foreground: oklch(0.5 0.02 250);
  --accent: oklch(0.7 0.15 200);
  --accent-foreground: oklch(0.2 0.02 250);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.577 0.245 27.325);
  --border: oklch(0.85 0.02 220);
  --input: oklch(0.92 0.02 220);
  --ring: oklch(0.6 0.18 240);
  --chart-1: oklch(0.6 0.18 240);
  --chart-2: oklch(0.65 0.15 200);
  --chart-3: oklch(0.55 0.16 260);
  --chart-4: oklch(0.6 0.12 180);
  --chart-5: oklch(0.7 0.1 220);
  --radius: 1rem;
  --sidebar: oklch(0.96 0.01 220);
  --sidebar-foreground: oklch(0.2 0.02 250);
  --sidebar-primary: oklch(0.6 0.18 240);
  --sidebar-primary-foreground: oklch(0.98 0 0);
  --sidebar-accent: oklch(0.9 0.02 220);
  --sidebar-accent-foreground: oklch(0.3 0.02 250);
  --sidebar-border: oklch(0.85 0.02 220);
  --sidebar-ring: oklch(0.6 0.15 240);
  /* Updated light background to Cosmic Iris colors */
  --light-bg-start: #a8b4d4;
  --light-bg-mid: #8b9dc3;
  --light-bg-end: #7c8bc4;
  --dark-bg-start: #334155;
  --dark-bg-mid: #1e293b;
  --dark-bg-end: #0f172a;
  --brand-primary: #3b82f6;
  --brand-primary-light: #60a5fa;
  --brand-primary-dark: #2563eb;
  --brand-cyan: #38bdf8;
  --brand-cyan-light: #7dd3fc;
  /* Updated text colors for better contrast on Cosmic Iris bg */
  --text-light-heading: #1e1b4b;
  --text-light-body: #312e81;
  --text-light-muted: #4338ca;
  --text-dark-heading: #ffffff;
  --text-dark-body: #cbd5e1;
  --text-dark-muted: #94a3b8;
  --accent-success: #10b981;
  --accent-warning: #f59e0b;
  --accent-error: #ef4444;
  --accent-purple: #8b5cf6;
  /* Cosmic Iris palette */
  --cosmic-periwinkle: #8b9dc3;
  --cosmic-lavender: #a8b4d4;
  --cosmic-mint: #b8e6e0;
  --cosmic-deep-blue: #7c8bc4;
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);
  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.439 0 0);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply text-foreground;
    /* Cosmic Iris gradient as global background with wave animation */
    background: linear-gradient(135deg, #a8b4d4 0%, #8b9dc3 30%, #9ca8c9 50%, #7c8bc4 100%);
    background-size: 400% 400%;
    animation: gradient-wave 15s ease infinite;
    min-height: 100vh;
    /* Improve text rendering on mobile */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Prevent horizontal scroll on mobile */
    overflow-x: hidden;
  }
  
  /* Touch-friendly tap targets on mobile */
  @media (max-width: 768px) {
    button,
    a {
      min-height: 44px;
      min-width: 44px;
    }
  }
  
  /* Improve scrolling on mobile */
  @media (max-width: 768px) {
    html {
      -webkit-overflow-scrolling: touch;
    }
  }
}

@keyframes gradient-wave {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* Global Cosmic Iris background with blobs and noise */
.cosmic-iris-global {
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  overflow: hidden;
  background: linear-gradient(135deg, #a8b4d4 0%, #8b9dc3 30%, #9ca8c9 50%, #7c8bc4 100%);
  background-size: 400% 400%;
  animation: gradient-wave 15s ease infinite;
}

.cosmic-iris-global::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse 80% 60% at 20% 30%, rgba(184, 230, 224, 0.4) 0%, transparent 60%),
    radial-gradient(ellipse 60% 80% at 80% 20%, rgba(168, 180, 212, 0.5) 0%, transparent 50%),
    radial-gradient(ellipse 70% 50% at 70% 80%, rgba(124, 139, 196, 0.4) 0%, transparent 55%),
    radial-gradient(ellipse 50% 70% at 30% 70%, rgba(200, 240, 236, 0.3) 0%, transparent 50%);
  filter: blur(60px);
  animation: cosmic-drift 30s ease-in-out infinite alternate;
}

.cosmic-iris-global::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  opacity: 0.03;
  mix-blend-mode: overlay;
}

@keyframes cosmic-drift {
  0% {
    transform: scale(1) translate(0, 0);
  }
  100% {
    transform: scale(1.05) translate(2%, 2%);
  }
}

/* Updated liquid-bg for Cosmic Iris */
.liquid-bg {
  background: transparent;
  min-height: 100vh;
  position: relative;
  overflow: hidden;
}

/* Enhanced Glass Card - Ultimate */
.glass-panel-ultimate {
  position: relative;
  background: rgba(255, 255, 255, 0.1); /* Lighter, more translucent base */
  backdrop-filter: blur(25px) saturate(180%);
  -webkit-backdrop-filter: blur(25px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.3); /* Distinct border */
  border-top: 1px solid rgba(255, 255, 255, 0.5); /* Highlight top border */
  border-left: 1px solid rgba(255, 255, 255, 0.5); /* Highlight left border */
  border-radius: 24px;
  overflow: visible;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 
    0 4px 30px rgba(0, 0, 0, 0.1), /* Soft drop shadow */
    inset 0 0 20px rgba(255, 255, 255, 0.2), /* Inner glow */
    inset 0 0 5px rgba(255, 255, 255, 0.4); /* Sharp inner edge */
}

/* Iridescent shimmer on hover */
.glass-panel-ultimate::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 24px;
  background: linear-gradient(
    125deg,
    transparent 0%,
    rgba(255, 255, 255, 0.1) 30%,
    rgba(255, 255, 255, 0.3) 40%,
    rgba(255, 255, 255, 0.1) 50%,
    transparent 100%
  );
  opacity: 0;
  transition: opacity 0.4s ease;
  pointer-events: none;
  z-index: 1;
}

.glass-panel-ultimate:hover {
  transform: translateY(-4px) scale(1.005);
  box-shadow: 
    0 10px 40px rgba(0, 0, 0, 0.15),
    inset 0 0 30px rgba(255, 255, 255, 0.3);
  border-color: rgba(255, 255, 255, 0.6);
}

.glass-panel-ultimate:hover::before {
  opacity: 1;
}

/* Use this to replace glass-card-neon-5 */
.glass-card-neon-5 {
  @apply glass-panel-ultimate;
}


/* Soap Bubble Styles - Enhanced */
.bubble-container {
  position: absolute;
  bottom: -100px; /* Start below screen */
  border-radius: 50%;
  pointer-events: none;
  /* Bubble appearance */
  background: radial-gradient(
    120% 120% at 30% 30%,
    rgba(255, 255, 255, 0.1) 0%,
    rgba(255, 255, 255, 0.01) 80%,
    rgba(255, 255, 255, 0.05) 100%
  );
  box-shadow: 
    inset 0 0 20px rgba(255, 255, 255, 0.5),
    inset 10px 10px 30px rgba(255, 255, 255, 0.2),
    0 0 15px rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.3);
  
  /* Iridescence */
  &::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: conic-gradient(
      from 0deg,
      rgba(255, 0, 0, 0.2),
      rgba(255, 165, 0, 0.2),
      rgba(255, 255, 0, 0.2),
      rgba(0, 128, 0, 0.2),
      rgba(0, 0, 255, 0.2),
      rgba(75, 0, 130, 0.2),
      rgba(238, 130, 238, 0.2),
      rgba(255, 0, 0, 0.2)
    );
    filter: blur(5px);
    opacity: 0.6;
    animation: rotate-hue 4s linear infinite;
  }

  /* Highlight reflection */
  &::before {
    content: '';
    position: absolute;
    top: 15%;
    left: 20%;
    width: 25%;
    height: 12%;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.9);
    filter: blur(1px);
    transform: rotate(-45deg);
  }
}

@keyframes rotate-hue {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes bubble-rise {
  0% {
    transform: translateY(0) scale(0.5);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  100% {
    transform: translateY(-120vh) scale(1.5); /* Move up significantly and grow */
    opacity: 0.8;
  }
}

@keyframes bubble-pop {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.4);
    opacity: 0.8;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

.bubble-pop-effect {
  animation: bubble-pop 0.3s ease-out forwards !important;
}

/* Glass Pill Badges - Enhanced Contrast */
.glass-pill-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 12px 24px;
  background: rgba(255, 255, 255, 0.15); /* Slightly more opaque */
  backdrop-filter: blur(20px) saturate(150%);
  -webkit-backdrop-filter: blur(20px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.4); /* Stronger border */
  border-radius: 100px;
  font-size: 14px;
  font-weight: 700; /* Bolder text */
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: #ffffff; /* Pure white text */
  text-shadow: 0 1px 2px rgba(0,0,0,0.2); /* Shadow for readability */
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.3);
  transition: all 0.3s ease;
}

/* Ensure existing bubble classes don't conflict but are deprecated/overridden */
.soap-bubble {
  /* Inherit new bubble styles if we use the same class, or we can just replace usage */
  @apply bubble-container; 
}

/* Text Readability Helpers */
.text-shadow-sm {
  text-shadow: 0 1px 2px rgba(0,0,0,0.1);
}
.text-shadow-md {
  text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

/* Card Lines - Cleaner look */
.card-lines span {
  height: 1px;
  background: linear-gradient(90deg, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.2));
  border-radius: 1px;
}

/* Navigation items need high contrast */
nav a {
  text-shadow: 0 0 1px rgba(255,255,255,0.5);
}

